<SceneGraph name="root">
	<node type="viewport" fov="45" aspect="1.3333" near="0.01" far="100" name="vp">
		<node type="cameranode" movx="0" movz="0" movy="0" rotx="0" roty="0" rotz="0" name="camera">
			<node type="mercuryfbo" width="640" height="480" depth="true" tnum="1" name="screenFBO" usescreensize="true" colorbyte0="RGBA16F" colorbyte1="RGBA16F">
				<asset type="shader" file="GRAPHIC:differedStep1"/>
<!--				<asset type="light" atten="10,0,0" fullscreen="true"/>
				<asset type="shader" file="GRAPHIC:test"/> -->
				<node type="transformnode" rotx="-90" movz="-10" movx="0" movy="-5">
					<asset type="texture" file="MODEL:map.png"/>
					<asset type="hgmdlmodel" file="MODEL:map.hgmdl" />
				</node>
				<node type="mercurynode" name="lampForest" >
					<node type="transformnode" movz="-5" movx="0" movy="0" name="lamprow" >
						<node type="mercurynode" name="lamp">
							<node type="transformnode" rotx="-90" >
								<asset type="texture" file="MODEL:lamp.png"/>
								<asset type="hgmdlmodel" file="MODEL:lampN.hgmdl" />
								<node type="light" atten="0.7,100,0.0" shader="GRAPHIC:differedStep2" />
							</node>
							<node type="billboardnode" billboardaxis="0,1,0" spheremode="true" >
								<node type="transformnode" roty="180" scalex="0.1" scaley="0.1" alphaPath="true">
									<asset type="texture" file="GRAPHIC:flame.png"/>
									<asset type="quad" />
								</node>
							</node>
						</node>
						<node type="transformnode" movx="1" fallback="lamprow.lamp" />
						<node type="transformnode" movx="2" fallback="lamprow.lamp" />
						<node type="transformnode" movx="3" fallback="lamprow.lamp" />
						<node type="transformnode" movx="-1" fallback="lamprow.lamp" />
						<node type="transformnode" movx="-2" fallback="lamprow.lamp" />
						<node type="transformnode" movx="-3" fallback="lamprow.lamp" />
					</node>
					<node type="transformnode" movz="-6" fallback="lampForest.lamprow"/>
					<node type="transformnode" movz="-7" fallback="lampForest.lamprow"/>
					<node type="transformnode" movz="-8" fallback="lampForest.lamprow"/>
					<node type="transformnode" movz="-9" fallback="lampForest.lamprow"/>
					<node type="transformnode" movz="-4" fallback="lampForest.lamprow"/>
					<node type="transformnode" movz="-3" fallback="lampForest.lamprow"/>
				</node>
			</node>
			<asset type="texture" file="screenFBO_0" dynamic="true"/>
			<asset type="texture" file="screenFBO_1" dynamic="true"/>
			<asset type="renderdifferedlights"/>
		</node>
	</node>
</SceneGraph>
